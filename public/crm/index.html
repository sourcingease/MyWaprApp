<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CRM • ComplytEX</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="stylesheet" href="/app.css">
  <style>
    body{margin:0;font-family:Segoe UI,Inter,Arial;background:#0b1220;color:#e5e7eb}
    .shell{max-width:1200px;margin:0 auto;padding:22px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
    .card{background:#0f172a;border:1px solid #1f2a3b;border-radius:12px;padding:16px}
    .title{font-size:22px;font-weight:800;margin-bottom:4px}
    .muted{color:#94a3b8}
    a{color:#a78bfa;text-decoration:none}
    .btn{display:inline-block;margin-top:10px;background:#7c3aed;border:0;color:#fff;padding:10px 14px;border-radius:8px}
    .kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px;margin-top:12px}
    .kpi{background:#111827;border:1px solid #1f2a3b;border-radius:10px;padding:12px}
    .kpi .n{font-size:22px;font-weight:800}
  </style>
</head>
<body>
  <script src="/js/master-layout.js"></script>
  <script src="/js/agents-ui.js"></script>
  <div class="shell">
    <div id="crm-agents-panel" class="card" style="margin-bottom:16px;"></div>
    <div class="title">CRM</div>
    <div class="muted">Multi-tenant CRM hub. Contacts → Leads → Accounts. Mailbox, Chat and Phone Notes for full interaction history.</div>

    <div class="kpis">
      <div class="kpi"><div class="muted">Contacts</div><div class="n">0</div></div>
      <div class="kpi"><div class="muted">Leads</div><div class="n">0</div></div>
      <div class="kpi"><div class="muted">Accounts</div><div class="n">0</div></div>
      <div class="kpi"><div class="muted">Open Emails</div><div class="n">0</div></div>
    </div>

    <div class="grid" style="margin-top:16px">
      <div class="card">
        <div style="font-weight:700">Contacts</div>
        <div class="muted">Search and manage company and people records.</div>
        <a class="btn" href="/crm/contacts.html">Open Contacts</a>
      </div>
      <div class="card">
        <div style="font-weight:700">Leads</div>
        <div class="muted">Track qualified opportunities.</div>
        <a class="btn" href="/crm/leads.html">Open Leads</a>
      </div>
      <div class="card">
        <div style="font-weight:700">Accounts</div>
        <div class="muted">Manage converted customers.</div>
        <a class="btn" href="/crm/accounts.html">Open Accounts</a>
      </div>
      <div class="card">
        <div style="font-weight:700">Mailbox</div>
        <div class="muted">Integrated email client (Inbox, Sent, Drafts).</div>
        <a class="btn" href="/crm/mailbox.html">Open Mailbox</a>
      </div>
      <div class="card">
        <div style="font-weight:700">Chat</div>
        <div class="muted">Internal conversations by team.</div>
        <a class="btn" href="/crm/chat.html">Open Chat</a>
      </div>
      <div class="card">
        <div style="font-weight:700">Phone Notes</div>
        <div class="muted">Log and search call notes by contact.</div>
        <a class="btn" href="/crm/phone-notes.html">Open Phone Notes</a>
      </div>
    </div>

    <div class="card" style="margin-top:18px">
      <div style="font-weight:700;margin-bottom:6px">Architecture Blueprint</div>
      <div class="muted">DashboardLayout → CRMDashboard → ContactManagementPage, LeadManagementPage, AccountManagementPage, MailboxPage, ChatCommunicationPage. Data models: Contact, Lead, Account, PhoneNote, Segment, ChatSession/Message, Email. All API calls are scoped by companyId for multi-tenancy.</div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      if (window.AgentUI) {
        window.AgentUI.initModuleAgents({
          containerSelector: '#crm-agents-panel',
          moduleId: 'crm'
        });
      }
    });
  </script>
</body>
</html>
